<!-- REPLACE WHOLE FILE: /store.html -->
<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>

  <title>Cửa hàng • Bongstudio</title>
  <meta name="description" content="Cửa hàng Bongstudio – danh mục sản phẩm chọn lọc: Gia dụng, Thời trang, Mẹ & Bé, Sức khỏe, Sách, Đồ ăn… từ Shopee, Lazada, TikTok."/>
  <link rel="canonical" href="https://bongstudio68.github.io/store.html"/>
  <meta name="robots" content="index,follow"/>

  <!-- OPEN GRAPH -->
  <meta property="og:title" content="Cửa hàng • Bongstudio"/>
  <meta property="og:description" content="Danh mục sản phẩm chọn lọc cho cộng đồng Bongstudio – tổng hợp từ nhiều sàn thương mại điện tử."/>
  <meta property="og:type" content="website"/>
  <meta property="og:url" content="https://bongstudio68.github.io/store.html"/>
  <meta property="og:image" content="https://bongstudio68.github.io/assets/img/categories/thoi-trang.webp"/>

  <!-- VERIFY: Google Search Console (nếu có) -->
  <meta name="google-site-verification" content=""/>

  <!-- GA4: Bongstudio -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-550F47VKPR"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-550F47VKPR');
  </script>

  <!-- CSS chính -->
  <link rel="stylesheet" href="/assets/css/styles.css"/>

  <!-- STYLE tối thiểu để đọc tên sản phẩm rõ ràng, đồng bộ với index -->
  <style>
    .container {
      max-width: 1120px;
      margin: 0 auto;
      padding: 0 1rem;
    }

    .site-header {
      border-bottom: 1px solid #eee;
      background: #fff;
    }
    .site-header .container {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: .6rem 0;
      gap: .75rem;
    }
    .logo {
      text-decoration: none;
      color: inherit;
      display: inline-flex;
      flex-direction: column;
      line-height: 1.1;
    }
    .logo-main {
      font-weight: 700;
      font-size: 1.25rem;
    }
    .logo-sub {
      font-size: .8rem;
      opacity: .75;
    }
    .main-nav ul {
      list-style: none;
      display: flex;
      gap: .75rem;
      padding: 0;
      margin: 0;
      font-size: .85rem;
    }
    .main-nav a {
      text-decoration: none;
      padding: .35rem .6rem;
      border-radius: 999px;
    }
    .main-nav a[data-nav="store"].is-active {
      background: #ff5a5f;
      color: #fff;
    }

    .store-hero {
      padding: 2rem 0 1.25rem;
    }
    .store-hero h1 {
      font-size: 1.5rem;
      margin-bottom: .35rem;
    }
    .store-hero p {
      font-size: .95rem;
      max-width: 680px;
    }

    .store-filters {
      margin-top: 1.25rem;
      padding: .8rem .9rem;
      border-radius: .9rem;
      border: 1px solid #eee;
      background: #fafafa;
      font-size: .85rem;
      display: flex;
      flex-wrap: wrap;
      gap: .5rem .75rem;
      align-items: center;
    }
    .store-filters label {
      font-weight: 500;
      margin-right: .25rem;
    }
    .store-filters select {
      padding: .3rem .5rem;
      border-radius: .4rem;
      border: 1px solid #ddd;
      font-size: .85rem;
    }

    .home-section-head {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: .75rem;
      margin-bottom: .75rem;
    }
    .home-section-head h2 {
      font-size: 1.2rem;
    }
    .home-section-head p {
      font-size: .85rem;
      opacity: .8;
    }

    .product-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: .9rem;
      padding-bottom: 2.5rem;
    }
    .product-card {
      border-radius: 1rem;
      border: 1px solid #eee;
      background: #fff;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }
    .product-card .product-thumb {
      display: block;
      position: relative;
      padding-top: 100%;
      overflow: hidden;
      background: #fafafa;
    }
    .product-card .product-thumb img {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .product-card-body {
      padding: .7rem .75rem .75rem;
      display: flex;
      flex-direction: column;
      gap: .35rem;
      flex: 1;
    }
    .product-name {
      font-size: .95rem;
      line-height: 1.4;
      max-height: 2.8em; /* ~2 dòng */
      overflow: hidden;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
    }
    .product-merchant {
      font-size: .8rem;
      opacity: .75;
    }
    .product-price {
      display: flex;
      align-items: baseline;
      gap: .4rem;
      margin-top: .1rem;
    }
    .product-price-current {
      font-weight: 600;
      font-size: .98rem;
      color: #e53935;
    }
    .product-price-old {
      font-size: .8rem;
      text-decoration: line-through;
      opacity: .7;
    }
    .product-actions {
      margin-top: .45rem;
      display: flex;
      gap: .4rem;
    }
    .btn-primary, .btn-secondary {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border-radius: .75rem;
      border: 1px solid #ff5a5f;
      font-size: .85rem;
      padding: .55rem .9rem;
      cursor: pointer;
      text-decoration: none;
      white-space: nowrap;
      transition: transform .1s ease, box-shadow .1s ease, background-color .1s ease, color .1s ease;
    }
    .btn-primary {
      flex: 1;
      background: #ff5a5f;
      color: #fff;
    }
    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 3px 10px rgba(0,0,0,.15);
    }
    .btn-secondary {
      border-color: #ddd;
      background: #fafafa;
      color: inherit;
      font-size: .82rem;
      padding-inline: .8rem;
    }

    .site-footer {
      border-top: 1px solid #eee;
      padding: 1rem 0 1.5rem;
      font-size: .85rem;
      background: #fafafa;
    }
    .site-footer a {
      color: inherit;
    }

    @media (max-width: 640px) {
      .site-header .container {
        flex-direction: column;
        align-items: flex-start;
      }
      .main-nav ul {
        flex-wrap: wrap;
        justify-content: flex-start;
      }
      .store-filters {
        flex-direction: column;
        align-items: flex-start;
      }
    }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="container">
      <a href="/" class="logo">
        <span class="logo-main">Bongstudio</span>
        <span class="logo-sub">Cửa hàng affiliate đa sàn</span>
      </a>
      <nav class="main-nav">
        <ul>
          <li><a href="/" data-nav="home">Trang chủ</a></li>
          <li><a href="/store.html" data-nav="store" class="is-active">Cửa hàng</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <!-- HERO CỬA HÀNG -->
    <section class="store-hero">
      <div class="container">
        <h1>Cửa hàng Bongstudio</h1>
        <p>
          Đây là kho sản phẩm chọn lọc cho cộng đồng Bongstudio – mỗi món đều có link mua rõ ràng,
          ưu tiên dễ dùng, giá hợp lý. Toàn bộ link là link affiliate: giá bạn không đổi, Bongstudio
          được thêm chút hoa hồng để duy trì nội dung.
        </p>

        <!-- THANH LỌC CƠ BẢN (để sau tool có thể gắn thêm) -->
        <div class="store-filters">
          <div>
            <label for="filter-category">Danh mục:</label>
            <select id="filter-category" name="category" disabled>
              <option selected>Tất cả (sau sẽ lọc bằng tool)</option>
            </select>
          </div>
          <div>
            <label for="filter-merchant">Sàn:</label>
            <select id="filter-merchant" name="merchant" disabled>
              <option value="">Tất cả</option>
              <option value="shopee">Shopee</option>
              <option value="lazada">Lazada</option>
              <option value="tiktok">TikTok</option>
            </select>
          </div>
          <div>
            <label for="filter-sort">Sắp xếp:</label>
            <select id="filter-sort" name="sort" disabled>
              <option>Để mặc định (sau tool xử lý)</option>
            </select>
          </div>
        </div>
      </div>
    </section>

    <!-- LƯỚI SẢN PHẨM: TẠM THỜI, SAU SẼ THAY BẰNG “TỆP KHO SẢN PHẨM” -->
    <section>
      <div class="container">
        <div class="home-section-head">
          <h2>Tất cả sản phẩm (bản test)</h2>
          <p>
            Đây là vài sản phẩm mẫu để test hiển thị & isclix. Sau sẽ thay toàn bộ bằng kho sản phẩm
            sinh từ tool theo chuẩn MXD.
          </p>
        </div>

        <div class="product-grid">
          <!-- CARD 1: Pijama Shopee -->
          <article class="product-card"
                   data-sku="BS-PJ-001"
                   data-merchant="shopee"
                   data-origin-url="https://shopee.vn/Pijama-Xinh-Tay-D%C3%A0i-Qu%E1%BA%A7n-D%C3%A0i-%C4%90%E1%BB%93-Ng%E1%BB%A7-Gi%C3%A1-R%E1%BA%BB-%C4%90%E1%BB%93-B%E1%BB%99-Ng%E1%BB%A7-N%E1%BB%AF-Pyjama-%C4%90%E1%BB%93-B%E1%BB%99-M%E1%BA%B7c-Nh%C3%A0-Ch%C3%A2%CC%81t-Ma%CC%81t-Kh%C3%B4ng-Nh%C4%83n-Ha%CC%80ng-Si%C3%AAu-%C4%90e%CC%A3p-i.1121158422.20386415824">
            <a class="product-thumb" href="#pj" aria-label="Pijama xinh tay dài quần dài">
              <img src="/assets/img/products/pijama-xinh-tay-dai-quan-dai.webp"
                   loading="lazy"
                   alt="Pijama xinh tay dài quần dài, chất mát, không nhăn (minh họa)"/>
            </a>
            <div class="product-card-body">
              <h3 class="product-name">
                Pijama Xinh Tay Dài Quần Dài – Đồ ngủ nữ, chất mát, không nhăn, dễ mặc ở nhà
              </h3>
              <div class="product-merchant">Nguồn: Shopee</div>
              <div class="product-price">
                <span class="product-price-current">57.000₫</span>
                <span class="product-price-old">89.000₫</span>
              </div>
              <div class="product-actions">
                <button class="btn-primary js-mxd-buy" type="button">
                  Mua ngay trên Shopee
                </button>
                <a class="btn-secondary" href="#pj">Chi tiết</a>
              </div>
            </div>
          </article>

          <!-- CARD 2: Áo sơ mi trắng Rymola -->
          <article class="product-card"
                   data-sku="BS-SM-001"
                   data-merchant="shopee"
                   data-origin-url="https://shopee.vn/%C3%81o-S%C6%A1-Mi-Tr%E1%BA%AFng-N%E1%BB%AF-Rymola-Kh%C3%B4ng-Nh%C4%83n-Gi%E1%BA%A5u-N%E1%BB%AAt-Tay-D%C3%A0i-C%C3%B3-Bigsize-S%C6%A1-Mi-Tr%E1%BA%AFng-C%C3%B4ng-S%E1%BB%9F-Ch%E1%BA%A5t-V%E1%BA%A3i-Cotton-Form-Su%C3%B4ng-i.8496476.6342798120">
            <a class="product-thumb" href="#sm" aria-label="Áo sơ mi trắng nữ Rymola">
              <img src="/assets/img/products/ao-so-mi-trang-nu-rymola.webp"
                   loading="lazy"
                   alt="Áo sơ mi trắng nữ Rymola, không nhăn, giấu nút (minh họa)"/>
            </a>
            <div class="product-card-body">
              <h3 class="product-name">
                Áo Sơ Mi Trắng Nữ Rymola – Không nhăn, giấu nút, form suông dễ phối
              </h3>
              <div class="product-merchant">Nguồn: Shopee</div>
              <div class="product-price">
                <span class="product-price-current">199.000₫</span>
                <span class="product-price-old">250.000₫</span>
              </div>
              <div class="product-actions">
                <button class="btn-primary js-mxd-buy" type="button">
                  Mua áo trên Shopee
                </button>
                <a class="btn-secondary" href="#sm">Chi tiết</a>
              </div>
            </div>
          </article>

          <!-- CARD 3: Gia dụng (Lazada, test) -->
          <article class="product-card"
                   data-sku="BS-GD-001"
                   data-merchant="lazada"
                   data-origin-url="https://www.lazada.vn/">
            <a class="product-thumb" href="#gd" aria-label="Sản phẩm gia dụng minh họa">
              <img src="/assets/img/products/gia-dung-minh-hoa.webp"
                   loading="lazy"
                   alt="Sản phẩm gia dụng minh họa (placeholder)"/>
            </a>
            <div class="product-card-body">
              <h3 class="product-name">
                Sản phẩm gia dụng minh họa – chỗ này để test link Lazada
              </h3>
              <div class="product-merchant">Nguồn: Lazada (test)</div>
              <div class="product-price">
                <span class="product-price-current">123.000₫</span>
              </div>
              <div class="product-actions">
                <button class="btn-primary js-mxd-buy" type="button">
                  Mua trên Lazada
                </button>
                <a class="btn-secondary" href="#gd">Chi tiết</a>
              </div>
            </div>
          </article>

          <!-- CARD 4: Placeholder TikTok (sau thay link thật) -->
          <article class="product-card"
                   data-sku="BS-TT-001"
                   data-merchant="tiktok"
                   data-origin-url="https://www.tiktok.com/">
            <a class="product-thumb" href="#tt" aria-label="Sản phẩm TikTok minh họa">
              <img src="/assets/img/products/tiktok-minh-hoa.webp"
                   loading="lazy"
                   alt="Sản phẩm TikTok minh họa (placeholder)"/>
            </a>
            <div class="product-card-body">
              <h3 class="product-name">
                Sản phẩm TikTok minh họa – chỉ để test cổng TikTok trong aff_base
              </h3>
              <div class="product-merchant">Nguồn: TikTok Shop (test)</div>
              <div class="product-price">
                <span class="product-price-current">99.000₫</span>
              </div>
              <div class="product-actions">
                <button class="btn-primary js-mxd-buy" type="button">
                  Mua qua TikTok
                </button>
                <a class="btn-secondary" href="#tt">Chi tiết</a>
              </div>
            </div>
          </article>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <div>
        <strong>Bongstudio</strong> – cửa hàng affiliate chọn lọc sản phẩm từ nhiều sàn.
      </div>
      <div>
        Liên hệ: 0978 557 797 ·
        Facebook:
        <a href="https://www.facebook.com/profile.php?id=100050291345045" target="_blank" rel="noopener">
          Mai (Bongstudio)
        </a>
      </div>
      <div style="margin-top:.3rem; opacity:.75;">
        Khi bạn mua qua link affiliate, Bongstudio có thể nhận hoa hồng nhỏ từ sàn nhưng giá bạn trả không đổi.
      </div>
    </div>
  </footer>

  <!-- SCRIPT ISCLIX: GIỐNG MẠCH TRANG CHỦ -->
  <script>
    ;(function(){
      // aff_base của Bongstudio: giống bộ đang dùng cho repo này
      const AFF_BASE = {
        shopee: "https://go.isclix.com/deep_link/6837508078414670452/4751584435713464237",
        lazada: "https://go.isclix.com/deep_link/6837508078414670452/5127144557053758578",
        tiktok: "https://go.isclix.com/deep_link/6837508078414670452/6648523843406889655"
      };

      const UTM_BASE = "utm_source=" + encodeURIComponent(location.hostname) + "&utm_medium=affiliate";

      function makeIsclixUrl(base, originUrl, sku, merchant){
        if(!base || !originUrl) return originUrl;
        const head = base + (base.includes("?") ? "&" : "?") + "url=" + encodeURIComponent(originUrl);
        const params = [
          UTM_BASE,
          "utm_campaign=" + encodeURIComponent(merchant || ""),
          "sub1=" + encodeURIComponent(sku || ""),
          "sub2=" + encodeURIComponent(merchant || "")
        ];
        return head + "&" + params.join("&");
      }

      function wireStoreCards(){
        const cards = document.querySelectorAll(".product-card[data-origin-url][data-merchant]");
        if(!cards.length) return;

        cards.forEach(card => {
          const sku = card.getAttribute("data-sku") || "";
          const merchant = (card.getAttribute("data-merchant") || "").toLowerCase();
          const origin = card.getAttribute("data-origin-url");
          const base = AFF_BASE[merchant];
          const btn = card.querySelector(".js-mxd-buy");
          if(!btn) return;

          const finalUrl = makeIsclixUrl(base, origin, sku, merchant);

          btn.addEventListener("click", function(ev){
            ev.preventDefault();
            const urlToOpen = finalUrl || origin;
            if(!urlToOpen) return;
            window.open(urlToOpen, "_blank");
          });
        });
      }

      if(document.readyState === "loading"){
        document.addEventListener("DOMContentLoaded", wireStoreCards);
      } else {
        wireStoreCards();
      }
    })();
  </script>
</body>
</html>
